function addLogEntry(customText) {
    // This grabs the note from the input box OR the automatic tyre log
    const note = customText || document.getElementById('logNote').value;
    if (!note) return;

    // Load existing history or start fresh
    const history = JSON.parse(localStorage.getItem('rallyHistory') || "[]");
    
    // Add the new entry to the top of the list
    history.unshift({ 
        date: new Date().toLocaleDateString('en-GB'), // UK Date format
        text: note 
    });

    // Save it back to the shared memory
    localStorage.setItem('rallyHistory', JSON.stringify(history));

    // Clear the input box if it was a manual note
    if (!customText) document.getElementById('logNote').value = "";
    
    // Update the small preview list on the main page
    renderHistory();
}
